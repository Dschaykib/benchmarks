## Is it faster to intersect or use which.



tested alternatives:

<ul>
intersect</ul><ul>which
</ul>


## used grid settings 

changing the length and the percentage of fits


| n_rows| percentage|var_type  | INDEX|
|------:|----------:|:---------|-----:|
|  1e+06|       0.10|numeric   |     1|
|  1e+06|       0.25|numeric   |     2|
|  1e+06|       0.50|numeric   |     3|
|  1e+06|       0.75|numeric   |     4|
|  1e+06|       0.90|numeric   |     5|
|  1e+06|       0.10|character |     6|
|  1e+06|       0.25|character |     7|
|  1e+06|       0.50|character |     8|
|  1e+06|       0.75|character |     9|
|  1e+06|       0.90|character |    10|
|  1e+05|       0.10|numeric   |    11|
|  1e+05|       0.25|numeric   |    12|
|  1e+05|       0.50|numeric   |    13|
|  1e+05|       0.75|numeric   |    14|
|  1e+05|       0.90|numeric   |    15|
|  1e+05|       0.10|character |    16|
|  1e+05|       0.25|character |    17|
|  1e+05|       0.50|character |    18|
|  1e+05|       0.75|character |    19|
|  1e+05|       0.90|character |    20|
|  1e+04|       0.10|numeric   |    21|
|  1e+04|       0.25|numeric   |    22|
|  1e+04|       0.50|numeric   |    23|
|  1e+04|       0.75|numeric   |    24|
|  1e+04|       0.90|numeric   |    25|
|  1e+04|       0.10|character |    26|
|  1e+04|       0.25|character |    27|
|  1e+04|       0.50|character |    28|
|  1e+04|       0.75|character |    29|
|  1e+04|       0.90|character |    30|
|  1e+03|       0.10|numeric   |    31|
|  1e+03|       0.25|numeric   |    32|
|  1e+03|       0.50|numeric   |    33|
|  1e+03|       0.75|numeric   |    34|
|  1e+03|       0.90|numeric   |    35|
|  1e+03|       0.10|character |    36|
|  1e+03|       0.25|character |    37|
|  1e+03|       0.50|character |    38|
|  1e+03|       0.75|character |    39|
|  1e+03|       0.90|character |    40|


## plot per numeric grid parameter 

![](
benchmark_grid_num.png
)

## plot per character grid parameter 

![](
benchmark_grid_char.png
)



##  all result summaries 

#### index 1

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 36.01399| 39.71842| 44.32587| 40.70002| 45.71830|  79.18609|   100|
|which     | 34.97808| 36.16995| 41.29198| 36.77058| 41.30551| 167.49218|   100|


#### index 2

|expr      |     min|       lq|     mean|   median|       uq|      max| neval|
|:---------|-------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 36.9583| 40.13929| 45.66642| 42.31426| 47.24901| 71.75750|   100|
|which     | 35.5994| 36.93387| 40.63213| 38.87733| 41.42624| 73.69217|   100|


#### index 3

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 37.51373| 39.87603| 44.23263| 41.43962| 43.95016| 70.86301|   100|
|which     | 34.53336| 36.55767| 39.57213| 38.22233| 39.54163| 64.78488|   100|


#### index 4

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 38.17182| 39.55481| 43.67797| 40.48272| 43.68987| 77.23059|   100|
|which     | 35.09756| 36.37110| 40.69776| 37.32445| 41.00185| 68.75958|   100|


#### index 5

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 38.48469| 39.74651| 44.97706| 42.06803| 46.46801| 94.68134|   100|
|which     | 34.48891| 36.07338| 38.85655| 37.36834| 39.20315| 66.98301|   100|


#### index 6

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 84.28358| 87.59406| 95.08060| 89.23859| 94.49139| 226.24948|   100|
|which     | 45.61402| 47.74659| 51.53903| 48.41651| 51.81929|  97.70521|   100|


#### index 7

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 82.72463| 84.19500| 90.11142| 85.66073| 89.38162| 216.87471|   100|
|which     | 45.35182| 46.03964| 49.07509| 46.43590| 48.48391|  90.73833|   100|


#### index 8

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 82.35436| 84.47408| 92.33485| 87.35439| 93.43720| 131.7398|   100|
|which     | 44.00764| 46.45292| 51.03679| 47.36769| 50.76171| 165.8797|   100|


#### index 9

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 82.59208| 84.58610| 90.22039| 87.77505| 91.49193| 123.5259|   100|
|which     | 44.80976| 46.00938| 51.59019| 46.53443| 50.88268| 170.3264|   100|


#### index 10

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 85.58336| 87.00963| 94.11694| 88.66894| 94.36105| 236.1746|   100|
|which     | 46.31102| 47.82888| 53.15672| 48.67684| 51.84167| 180.9946|   100|


#### index 11

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 2.460943| 2.556760| 2.749089| 2.612192| 2.777197|  3.902503|   100|
|which     | 2.178576| 2.205615| 2.751522| 2.255062| 2.394564| 41.577895|   100|


#### index 12

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 2.534087| 2.565390| 3.032943| 2.600548| 2.767910| 31.122116|   100|
|which     | 2.193992| 2.220458| 2.410516| 2.254364| 2.415002|  3.344821|   100|


#### index 13

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 2.509282| 2.556411| 2.905240| 2.577567| 2.728591| 29.862268|   100|
|which     | 2.181200| 2.208629| 2.258012| 2.222610| 2.274885|  2.491365|   100|


#### index 14

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 2.401862| 2.565288| 2.807966| 2.719469| 2.818422|  4.051743|   100|
|which     | 2.061685| 2.208486| 2.728759| 2.337000| 2.421747| 33.919218|   100|


#### index 15

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 2.220724| 2.550508| 2.810239| 2.564735| 2.584414| 26.669147|   100|
|which     | 2.122488| 2.206743| 2.224361| 2.215988| 2.235566|  2.339829|   100|


#### index 16

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 4.900156| 4.952820| 5.591728| 5.139411| 5.390803| 32.057490|   100|
|which     | 2.563689| 2.627588| 2.738514| 2.700978| 2.845933|  3.614478|   100|


#### index 17

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 4.748128| 4.896179| 5.300082| 5.057432| 5.351628|  8.011851|   100|
|which     | 2.485092| 2.651039| 3.464946| 2.822850| 2.983365| 46.695269|   100|


#### index 18

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 4.736771| 4.977523| 5.364874| 5.399290| 5.487030|  6.990869|   100|
|which     | 2.373285| 2.682117| 3.495620| 2.904317| 2.994086| 46.978169|   100|


#### index 19

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.443703| 4.916905| 5.616344| 5.045173| 5.350971| 42.77829|   100|
|which     | 2.482017| 2.653049| 2.924330| 2.751018| 2.884494| 13.59880|   100|


#### index 20

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 4.794827| 4.940357| 5.905685| 5.076825| 5.694921| 46.277602|   100|
|which     | 2.414736| 2.629843| 2.920639| 2.734577| 3.067722|  3.901396|   100|


#### index 21

|expr      |      min|        lq|      mean|   median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|--------:|--------:|--------:|-----:|
|intersect | 0.203073| 0.2300305| 0.2330370| 0.232265| 0.234848| 0.266992|   100|
|which     | 0.162319| 0.1918185| 0.1940452| 0.193438| 0.195488| 0.258546|   100|


#### index 22

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.213405| 0.2310555| 0.2352150| 0.2330030| 0.2370620| 0.264122|   100|
|which     | 0.161212| 0.1920235| 0.1974941| 0.1935815| 0.1975995| 0.246451|   100|


#### index 23

|expr      |      min|        lq|      mean|    median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|--------:|--------:|-----:|
|intersect | 0.196062| 0.2329415| 0.2402912| 0.2390095| 0.242761| 0.307910|   100|
|which     | 0.187903| 0.1922900| 0.1985499| 0.1977840| 0.201228| 0.231035|   100|


#### index 24

|expr      |      min|        lq|      mean|    median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|--------:|--------:|-----:|
|intersect | 0.217833| 0.2430275| 0.3316367| 0.3720955| 0.376462| 0.410000|   100|
|which     | 0.187575| 0.1940940| 0.2542418| 0.2911820| 0.296799| 0.336528|   100|


#### index 25

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.223491| 0.2317525| 0.2373880| 0.2341715| 0.2412850| 0.274372|   100|
|which     | 0.166091| 0.1927615| 0.1988615| 0.1962670| 0.2019865| 0.232921|   100|


#### index 26

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.459733| 0.5057145| 0.5441996| 0.5192855| 0.5460175| 1.706543|   100|
|which     | 0.218817| 0.2622975| 0.2746926| 0.2672995| 0.2903620| 0.371952|   100|


#### index 27

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.464653| 0.4857680| 0.5049650| 0.4907085| 0.5012045| 1.606011|   100|
|which     | 0.239850| 0.2534005| 0.2600175| 0.2559015| 0.2621335| 0.341612|   100|


#### index 28

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.438536| 0.5021885| 0.5073434| 0.5059195| 0.5113315| 0.559978|   100|
|which     | 0.223245| 0.2624000| 0.2747422| 0.2644500| 0.2680990| 1.291541|   100|


#### index 29

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.469983| 0.4748825| 0.4890878| 0.4773835| 0.4809095| 1.568578|   100|
|which     | 0.232470| 0.2475170| 0.2494633| 0.2487880| 0.2505305| 0.271338|   100|


#### index 30

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.458831| 0.4799870| 0.4853359| 0.4837385| 0.4880435| 0.519019|   100|
|which     | 0.240014| 0.2485625| 0.2603209| 0.2503460| 0.2520680| 1.225490|   100|


#### index 31

|expr      |      min|        lq|      mean|    median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|--------:|--------:|-----:|
|intersect | 0.029110| 0.0301145| 0.0327881| 0.0310165| 0.033948| 0.084706|   100|
|which     | 0.023288| 0.0243130| 0.0261982| 0.0249280| 0.027388| 0.051496|   100|


#### index 32

|expr      |      min|        lq|      mean|    median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|--------:|--------:|-----:|
|intersect | 0.029274| 0.0326155| 0.0352079| 0.0340915| 0.036695| 0.061295|   100|
|which     | 0.023206| 0.0257890| 0.0281440| 0.0267935| 0.029151| 0.066830|   100|


#### index 33

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.028167| 0.0297455| 0.0332592| 0.0329025| 0.0355675| 0.050717|   100|
|which     | 0.022796| 0.0239030| 0.0264167| 0.0257890| 0.0279210| 0.055965|   100|


#### index 34

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.029602| 0.0327795| 0.0356306| 0.0358340| 0.0373100| 0.046125|   100|
|which     | 0.023165| 0.0248460| 0.0276377| 0.0279825| 0.0292125| 0.037679|   100|


#### index 35

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.030176| 0.0308935| 0.0327287| 0.0314265| 0.0320825| 0.055801|   100|
|which     | 0.023575| 0.0244975| 0.0251584| 0.0247640| 0.0252150| 0.035506|   100|


#### index 36

|expr      |      min|       lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.046248| 0.047888| 0.0509396| 0.0498765| 0.0518445| 0.091102|   100|
|which     | 0.022550| 0.023452| 0.0255004| 0.0245590| 0.0260555| 0.084665|   100|


#### index 37

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.045674| 0.0470680| 0.0491902| 0.0478265| 0.0508400| 0.072078|   100|
|which     | 0.022632| 0.0232675| 0.0248230| 0.0236570| 0.0251535| 0.081139|   100|


#### index 38

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.046494| 0.0481545| 0.0491102| 0.0486875| 0.0492205| 0.066051|   100|
|which     | 0.023124| 0.0239030| 0.0251482| 0.0241900| 0.0245180| 0.081754|   100|


#### index 39

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.046289| 0.0478675| 0.0498900| 0.0488105| 0.0499175| 0.067199|   100|
|which     | 0.023124| 0.0240055| 0.0253421| 0.0241900| 0.0245795| 0.081098|   100|


#### index 40

|expr      |      min|        lq|      mean|   median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|--------:|--------:|--------:|-----:|
|intersect | 0.046740| 0.0491590| 0.0518084| 0.049856| 0.051045| 0.125255|   100|
|which     | 0.022755| 0.0240055| 0.0257935| 0.024600| 0.025953| 0.048421|   100|


