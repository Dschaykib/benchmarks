## Is it faster to intersect or use which.



tested alternatives:

<ul>
intersect</ul><ul>which
</ul>


## used grid settings 

changing the length and the percentage of fits


| n_rows| percentage|var_type  | INDEX|
|------:|----------:|:---------|-----:|
|  1e+06|       0.10|numeric   |     1|
|  1e+06|       0.25|numeric   |     2|
|  1e+06|       0.50|numeric   |     3|
|  1e+06|       0.75|numeric   |     4|
|  1e+06|       0.90|numeric   |     5|
|  1e+06|       0.10|character |     6|
|  1e+06|       0.25|character |     7|
|  1e+06|       0.50|character |     8|
|  1e+06|       0.75|character |     9|
|  1e+06|       0.90|character |    10|
|  1e+05|       0.10|numeric   |    11|
|  1e+05|       0.25|numeric   |    12|
|  1e+05|       0.50|numeric   |    13|
|  1e+05|       0.75|numeric   |    14|
|  1e+05|       0.90|numeric   |    15|
|  1e+05|       0.10|character |    16|
|  1e+05|       0.25|character |    17|
|  1e+05|       0.50|character |    18|
|  1e+05|       0.75|character |    19|
|  1e+05|       0.90|character |    20|
|  1e+04|       0.10|numeric   |    21|
|  1e+04|       0.25|numeric   |    22|
|  1e+04|       0.50|numeric   |    23|
|  1e+04|       0.75|numeric   |    24|
|  1e+04|       0.90|numeric   |    25|
|  1e+04|       0.10|character |    26|
|  1e+04|       0.25|character |    27|
|  1e+04|       0.50|character |    28|
|  1e+04|       0.75|character |    29|
|  1e+04|       0.90|character |    30|
|  1e+03|       0.10|numeric   |    31|
|  1e+03|       0.25|numeric   |    32|
|  1e+03|       0.50|numeric   |    33|
|  1e+03|       0.75|numeric   |    34|
|  1e+03|       0.90|numeric   |    35|
|  1e+03|       0.10|character |    36|
|  1e+03|       0.25|character |    37|
|  1e+03|       0.50|character |    38|
|  1e+03|       0.75|character |    39|
|  1e+03|       0.90|character |    40|


## plot per numeric grid parameter 

![](
benchmark_grid_num.png
)

## plot per character grid parameter 

![](
benchmark_grid_char.png
)



##  all result summaries 

#### index 1

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 39.10498| 41.70331| 46.08507| 44.40702| 48.16545| 101.94404|   100|
|which     | 35.83761| 37.16562| 40.92508| 39.23292| 44.02881|  56.91399|   100|


#### index 2

|expr      |      min|       lq|    mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|-------:|--------:|--------:|---------:|-----:|
|intersect | 39.28173| 43.55945| 48.8661| 47.23626| 50.56766| 108.77402|   100|
|which     | 35.98742| 39.13600| 42.2536| 41.07134| 45.37437|  59.95766|   100|


#### index 3

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 40.34798| 45.25391| 51.28299| 48.20083| 52.32428| 109.40953|   100|
|which     | 35.94876| 39.96823| 46.17433| 43.11074| 47.41880|  93.70985|   100|


#### index 4

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 39.36160| 44.56378| 50.49037| 47.44686| 51.73255| 99.82196|   100|
|which     | 36.23974| 39.63509| 43.65931| 42.14587| 44.63801| 98.77412|   100|


#### index 5

|expr      |      min|       lq|     mean|   median|       uq|       max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|---------:|-----:|
|intersect | 40.04577| 45.54733| 51.67311| 49.09293| 53.32786| 125.77004|   100|
|which     | 36.11915| 39.97156| 46.35011| 44.02516| 49.19408|  99.74382|   100|


#### index 6

|expr      |      min|       lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 86.21082| 98.85932| 109.02590| 103.86835| 110.59715| 325.4395|   100|
|which     | 45.63005| 53.81883|  60.27097|  59.04277|  63.56585| 135.5182|   100|


#### index 7

|expr      |      min|       lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 90.87207| 96.94831| 106.58637| 103.13589| 109.53943| 183.6579|   100|
|which     | 44.36811| 53.38977|  60.20659|  57.76125|  61.86537| 163.9525|   100|


#### index 8

|expr      |      min|       lq|      mean|   median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|--------:|---------:|--------:|-----:|
|intersect | 89.50156| 95.84265| 106.02250| 99.87229| 109.02784| 228.8911|   100|
|which     | 44.11649| 52.27383|  56.18989| 55.36880|  59.57265| 128.9635|   100|


#### index 9

|expr      |      min|       lq|     mean|   median|        uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|---------:|--------:|-----:|
|intersect | 82.29081| 90.55926| 99.61482| 96.18036| 104.34385| 168.0531|   100|
|which     | 40.89127| 45.11679| 56.29823| 53.82880|  59.28924| 173.3107|   100|


#### index 10

|expr      |      min|       lq|    mean|   median|        uq|      max| neval|
|:---------|--------:|--------:|-------:|--------:|---------:|--------:|-----:|
|intersect | 85.88209| 92.42222| 99.0932| 97.37912| 102.30394| 161.6920|   100|
|which     | 42.90092| 51.20463| 58.5348| 54.55513|  59.56681| 176.5232|   100|


#### index 11

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 2.494645| 2.586054| 3.724787| 2.691425| 2.878303| 26.46439|   100|
|which     | 2.120110| 2.231261| 2.802960| 2.323983| 2.462829| 20.67966|   100|


#### index 12

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 2.194853| 2.537552| 3.269314| 2.566620| 2.715327| 13.30405|   100|
|which     | 2.089319| 2.206886| 2.828085| 2.235976| 2.303052| 14.53331|   100|


#### index 13

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 2.249219| 2.565555| 2.963059| 2.637796| 2.758726| 14.37030|   100|
|which     | 1.933765| 2.213918| 3.136163| 2.314040| 2.390587| 12.63021|   100|


#### index 14

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 2.392842| 2.673262| 3.680111| 2.799952| 2.992836| 14.83868|   100|
|which     | 2.015724| 2.279190| 2.744784| 2.373080| 2.443293| 16.93796|   100|


#### index 15

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 2.416376| 2.590606| 3.408071| 2.664139| 2.826458| 15.56569|   100|
|which     | 2.152254| 2.236263| 3.415263| 2.292679| 2.447598| 54.95993|   100|


#### index 16

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.445548| 4.921660| 6.099763| 4.970635| 5.480511| 17.41627|   100|
|which     | 2.366192| 2.623262| 3.064311| 2.645771| 2.682282| 12.96309|   100|


#### index 17

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.761945| 4.940541| 6.247250| 5.260423| 5.807035| 21.99994|   100|
|which     | 2.545649| 2.706307| 3.633049| 2.811678| 2.980864| 15.13568|   100|


#### index 18

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.720453| 5.263928| 6.656330| 5.338261| 5.804595| 21.94517|   100|
|which     | 2.548109| 2.821907| 3.347982| 2.851181| 3.069260| 14.47977|   100|


#### index 19

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.615165| 4.776664| 5.779731| 4.820452| 5.237135| 17.86928|   100|
|which     | 2.421419| 2.542820| 3.279021| 2.567112| 2.779226| 14.25459|   100|


#### index 20

|expr      |      min|       lq|     mean|   median|       uq|      max| neval|
|:---------|--------:|--------:|--------:|--------:|--------:|--------:|-----:|
|intersect | 4.672032| 4.791096| 6.101736| 5.107473| 5.207861| 20.80697|   100|
|which     | 2.487060| 2.560450| 3.260999| 2.748251| 2.790726| 16.05749|   100|


#### index 21

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.219719| 0.2521705| 0.4350584| 0.3732230| 0.3771385| 10.48485|   100|
|which     | 0.188846| 0.2040570| 0.2630425| 0.2958355| 0.2982955|  0.31242|   100|


#### index 22

|expr      |      min|        lq|      mean|   median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|--------:|---------:|--------:|-----:|
|intersect | 0.199096| 0.2274475| 0.3303313| 0.231199| 0.2384765| 9.913431|   100|
|which     | 0.168387| 0.1915930| 0.1957160| 0.195201| 0.1994855| 0.221892|   100|


#### index 23

|expr      |      min|       lq|      mean|   median|        uq|       max| neval|
|:---------|--------:|--------:|---------:|--------:|---------:|---------:|-----:|
|intersect | 0.198071| 0.227796| 0.2323318| 0.230830| 0.2350325|  0.261211|   100|
|which     | 0.163180| 0.191306| 0.3346383| 0.193479| 0.1983990| 14.127821|   100|


#### index 24

|expr      |      min|        lq|      mean|    median|       uq|       max| neval|
|:---------|--------:|---------:|---------:|---------:|--------:|---------:|-----:|
|intersect | 0.202171| 0.2268120| 0.3286827| 0.2291900| 0.232716| 10.083417|   100|
|which     | 0.186632| 0.1910395| 0.1932490| 0.1924335| 0.193602|  0.210576|   100|


#### index 25

|expr      |      min|        lq|      mean|   median|       uq|       max| neval|
|:---------|--------:|---------:|---------:|--------:|--------:|---------:|-----:|
|intersect | 0.208895| 0.2380460| 0.3654994| 0.244606| 0.250346| 12.258180|   100|
|which     | 0.168838| 0.1979275| 0.2035638| 0.202499| 0.207050|  0.246943|   100|


#### index 26

|expr      |      min|        lq|      mean|   median|        uq|       max| neval|
|:---------|--------:|---------:|---------:|--------:|---------:|---------:|-----:|
|intersect | 0.461660| 0.4802125| 0.6232914| 0.483308| 0.4875925| 14.383374|   100|
|which     | 0.218694| 0.2492185| 0.2600327| 0.251166| 0.2529085|  1.200931|   100|


#### index 27

|expr      |      min|       lq|      mean|   median|        uq|       max| neval|
|:---------|--------:|--------:|---------:|--------:|---------:|---------:|-----:|
|intersect | 0.475477| 0.487859| 0.7268308| 0.510409| 0.5402365| 20.848623|   100|
|which     | 0.247353| 0.257644| 0.2663147| 0.265516| 0.2703745|  0.299669|   100|


#### index 28

|expr      |      min|       lq|      mean|    median|        uq|       max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|---------:|-----:|
|intersect | 0.481053| 0.488597| 0.6109303| 0.4923075| 0.5123155| 11.638875|   100|
|which     | 0.229108| 0.250018| 0.2643459| 0.2519450| 0.2569060|  1.197856|   100|


#### index 29

|expr      |      min|        lq|      mean|   median|        uq|       max| neval|
|:---------|--------:|---------:|---------:|--------:|---------:|---------:|-----:|
|intersect | 0.438659| 0.4871825| 0.7153528| 0.654606| 0.6626420| 13.187609|   100|
|which     | 0.220334| 0.2555530| 0.3326515| 0.356372| 0.3604925|  1.142465|   100|


#### index 30

|expr      |      min|        lq|      mean|    median|        uq|       max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|---------:|-----:|
|intersect | 0.446326| 0.4824060| 0.6313422| 0.4879205| 0.4988880| 13.438119|   100|
|which     | 0.234479| 0.2499155| 0.2552644| 0.2532160| 0.2582795|  0.311067|   100|


#### index 31

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.026896| 0.0279005| 0.0308820| 0.0315700| 0.0321030| 0.049774|   100|
|which     | 0.022509| 0.0237185| 0.0261801| 0.0260965| 0.0265885| 0.076998|   100|


#### index 32

|expr      |      min|       lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.028044| 0.028946| 0.0313338| 0.0295200| 0.0327385| 0.059204|   100|
|which     | 0.023001| 0.024190| 0.0255459| 0.0247025| 0.0263425| 0.038663|   100|


#### index 33

|expr      |      min|        lq|      mean|    median|        uq|     max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|-------:|-----:|
|intersect | 0.027634| 0.0288435| 0.0301366| 0.0294380| 0.0299710| 0.04961|   100|
|which     | 0.023083| 0.0241900| 0.0256016| 0.0247435| 0.0255225| 0.06109|   100|


#### index 34

|expr      |      min|       lq|      mean|   median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|--------:|---------:|--------:|-----:|
|intersect | 0.026568| 0.027675| 0.0304995| 0.029684| 0.0316930| 0.075850|   100|
|which     | 0.022099| 0.023493| 0.0252298| 0.024313| 0.0259325| 0.057031|   100|


#### index 35

|expr      |      min|       lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.026896| 0.028782| 0.0314154| 0.0300325| 0.0334150| 0.051988|   100|
|which     | 0.022304| 0.023821| 0.0252523| 0.0246205| 0.0265065| 0.034563|   100|


#### index 36

|expr      |     min|        lq|      mean|    median|        uq|      max| neval|
|:---------|-------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.04510| 0.0461045| 0.0487535| 0.0468425| 0.0507785| 0.067322|   100|
|which     | 0.02296| 0.0236980| 0.0260055| 0.0240260| 0.0260760| 0.089462|   100|


#### index 37

|expr      |      min|        lq|      mean|    median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|---------:|---------:|--------:|-----:|
|intersect | 0.044731| 0.0461865| 0.0505509| 0.0471295| 0.0524595| 0.125296|   100|
|which     | 0.022632| 0.0238620| 0.0260030| 0.0243950| 0.0266500| 0.061623|   100|


#### index 38

|expr      |      min|       lq|      mean|   median|        uq|      max| neval|
|:---------|--------:|--------:|---------:|--------:|---------:|--------:|-----:|
|intersect | 0.045223| 0.047150| 0.0508806| 0.051004| 0.0518445| 0.126567|   100|
|which     | 0.023206| 0.024477| 0.0265258| 0.026568| 0.0273060| 0.046248|   100|


#### index 39

|expr      |      min|        lq|      mean|   median|        uq|      max| neval|
|:---------|--------:|---------:|---------:|--------:|---------:|--------:|-----:|
|intersect | 0.045797| 0.0466375| 0.0502902| 0.047437| 0.0510860| 0.128740|   100|
|which     | 0.022960| 0.0238005| 0.0252388| 0.024313| 0.0264655| 0.051783|   100|


#### index 40

|expr      |      min|        lq|      mean|   median|       uq|      max| neval|
|:---------|--------:|---------:|---------:|--------:|--------:|--------:|-----:|
|intersect | 0.045100| 0.0461865| 0.0491356| 0.046822| 0.047970| 0.129273|   100|
|which     | 0.023083| 0.0237185| 0.0246070| 0.024026| 0.024395| 0.050225|   100|


