## Is it faster to sum over 0's or NA's.



tested alternatives:

<ul>
sum with 0</ul><ul>sum with 0 and check for NA</ul><ul>sum with NA</ul><ul>max with 0</ul><ul>max with 0 and check for NA</ul><ul>max with NA</ul><ul>min with 0</ul><ul>min with 0 and check for NA</ul><ul>min with NA
</ul>


## used grid settings 

changing the length and the percentage of NA's and 0's


| n_rows| percentage| INDEX|
|------:|----------:|-----:|
|  1e+06|       0.10|     1|
|  1e+06|       0.25|     2|
|  1e+06|       0.50|     3|
|  1e+06|       0.75|     4|
|  1e+06|       0.90|     5|


## plot per numeric grid parameter 

![](
benchmark_grid_num.png
)



##  all result summaries 

#### index 1

|expr                        |      min|        lq|     mean|    median|       uq|      max| neval|
|:---------------------------|--------:|---------:|--------:|---------:|--------:|--------:|-----:|
|sum with 0                  | 0.892820| 0.9040495| 0.978560| 0.9688835| 1.019446| 1.171808|   100|
|sum with 0 and check for NA | 0.898697| 0.9484480| 1.006004| 1.0076365| 1.046211| 1.271250|   100|
|sum with NA                 | 0.900658| 0.9242465| 1.009421| 1.0151250| 1.059335| 1.192946|   100|
|max with 0                  | 1.847362| 1.9892510| 2.078385| 2.0770210| 2.177229| 2.339260|   100|
|max with 0 and check for NA | 1.856248| 2.0117455| 2.097158| 2.0824260| 2.178669| 2.699490|   100|
|max with NA                 | 1.857560| 1.9773530| 2.070865| 2.0943560| 2.162936| 2.338826|   100|
|min with 0                  | 1.841520| 1.9558015| 2.064163| 2.0898595| 2.164512| 2.367177|   100|
|min with 0 and check for NA | 1.842292| 1.9661305| 2.060182| 2.0844420| 2.143365| 2.340429|   100|
|min with NA                 | 1.839596| 1.9924110| 2.061760| 2.0487415| 2.144118| 2.336021|   100|


#### index 2

|expr                        |      min|       lq|      mean|    median|       uq|      max| neval|
|:---------------------------|--------:|--------:|---------:|---------:|--------:|--------:|-----:|
|sum with 0                  | 0.893524| 0.897809| 0.9570664| 0.9502625| 1.000997| 1.241201|   100|
|sum with 0 and check for NA | 0.899863| 0.905249| 0.9887448| 0.9899065| 1.041046| 1.178412|   100|
|sum with NA                 | 0.900346| 0.909063| 0.9882740| 0.9887120| 1.034229| 1.187800|   100|
|max with 0                  | 1.854128| 1.970702| 2.0512374| 2.0476735| 2.127432| 2.339841|   100|
|max with 0 and check for NA | 1.840674| 1.955969| 2.0313352| 2.0313035| 2.118117| 2.328783|   100|
|max with NA                 | 1.848142| 1.938883| 2.0499935| 2.0355680| 2.129712| 2.906882|   100|
|min with 0                  | 1.844057| 1.915552| 2.0217435| 2.0203000| 2.103721| 2.509297|   100|
|min with 0 and check for NA | 1.840818| 1.934886| 2.0245233| 2.0259605| 2.106622| 2.330359|   100|
|min with NA                 | 1.840746| 1.951564| 2.0460153| 2.0546260| 2.148290| 2.305627|   100|


#### index 3

|expr                        |      min|        lq|      mean|   median|       uq|      max| neval|
|:---------------------------|--------:|---------:|---------:|--------:|--------:|--------:|-----:|
|sum with 0                  | 0.892845| 0.9003000| 0.9680001| 0.970585| 1.020560| 1.122512|   100|
|sum with 0 and check for NA | 0.898440| 0.9076090| 0.9930043| 1.003839| 1.042728| 1.199579|   100|
|sum with NA                 | 0.900301| 0.9089765| 0.9817696| 0.993625| 1.021024| 1.156279|   100|
|max with 0                  | 1.848300| 1.9807440| 2.0698092| 2.086601| 2.152363| 2.331282|   100|
|max with 0 and check for NA | 1.847668| 1.9815970| 2.0751471| 2.076534| 2.151914| 2.772637|   100|
|max with NA                 | 1.858547| 1.9794415| 2.0460376| 2.032015| 2.115024| 2.329461|   100|
|min with 0                  | 1.837428| 1.9388270| 2.0341021| 2.015945| 2.131511| 2.316276|   100|
|min with 0 and check for NA | 1.841380| 1.9403975| 2.0299615| 2.008434| 2.115940| 2.344835|   100|
|min with NA                 | 1.841361| 1.9259810| 2.0199184| 2.013381| 2.103191| 2.302322|   100|


#### index 4

|expr                        |      min|        lq|     mean|   median|       uq|      max| neval|
|:---------------------------|--------:|---------:|--------:|--------:|--------:|--------:|-----:|
|sum with 0                  | 0.895782| 0.9397415| 1.020514| 0.991885| 1.057576| 1.577525|   100|
|sum with 0 and check for NA | 0.901558| 0.9358920| 1.053194| 1.008036| 1.074517| 1.887757|   100|
|sum with NA                 | 0.902386| 0.9503400| 1.055077| 1.019073| 1.077152| 2.598010|   100|
|max with 0                  | 1.865132| 2.0369445| 2.128337| 2.115753| 2.203504| 2.811156|   100|
|max with 0 and check for NA | 1.858103| 2.0371335| 2.100602| 2.088198| 2.164090| 3.023930|   100|
|max with NA                 | 1.853211| 1.9928255| 2.094474| 2.062155| 2.164933| 2.927142|   100|
|min with 0                  | 1.832728| 2.0225175| 2.095924| 2.104488| 2.173610| 2.520684|   100|
|min with 0 and check for NA | 1.847537| 2.0158660| 2.139065| 2.101390| 2.197253| 2.926940|   100|
|min with NA                 | 1.856546| 2.0107930| 2.111070| 2.100283| 2.188865| 2.786319|   100|


#### index 5

|expr                        |      min|        lq|      mean|    median|       uq|      max| neval|
|:---------------------------|--------:|---------:|---------:|---------:|--------:|--------:|-----:|
|sum with 0                  | 0.893456| 0.9299495| 0.9844565| 0.9783965| 1.025760| 1.212308|   100|
|sum with 0 and check for NA | 0.901059| 0.9398500| 1.0202142| 1.0068390| 1.078634| 1.322841|   100|
|sum with NA                 | 0.900377| 0.9326220| 1.0090658| 1.0031965| 1.049024| 1.385531|   100|
|max with 0                  | 1.849604| 1.9976985| 2.0918104| 2.0752855| 2.169128| 2.814795|   100|
|max with 0 and check for NA | 1.856311| 1.9686545| 2.0576530| 2.0419120| 2.131113| 2.574918|   100|
|max with NA                 | 1.846532| 2.0015180| 2.0882108| 2.0929135| 2.171292| 2.493762|   100|
|min with 0                  | 1.844182| 2.0030075| 2.0863960| 2.0907140| 2.161431| 2.404661|   100|
|min with 0 and check for NA | 1.840418| 1.9868115| 2.0709937| 2.0675695| 2.150854| 2.344156|   100|
|min with NA                 | 1.842031| 2.0059555| 2.0796059| 2.0941365| 2.169808| 2.383940|   100|


